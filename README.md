# üßÖ Onion –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ UnitOfWork

–ü—Ä–æ–µ–∫—Ç–æ—Ç –∫–æ—Ä–∏—Å—Ç–∏ **Onion –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**, —Å–æ –ø—Ä–∏–º–µ–Ω–∞ –Ω–∞ **UnitOfWork** —à–µ–º–∞—Ç–∞ –∑–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∏—Ä–∞–Ω–æ —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—É–º–∏—Ç–µ –∏ –ø–æ–¥–æ–±—Ä–æ —Ä–∞–∫—É–≤–∞—ö–µ —Å–æ –∑–∞–≤–∏—Å–Ω–æ—Å—Ç–∏. –û–≤–æ—ò –ø—Ä–∏—Å—Ç–∞–ø –æ–±–µ–∑–±–µ–¥—É–≤–∞ —ò–∞—Å–Ω–∞ –ø–æ–¥–µ–ª–±–∞ –Ω–∞ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç–∏ –∏ –≥–æ –æ–ª–µ—Å–Ω—É–≤–∞ –æ–¥—Ä–∂—É–≤–∞—ö–µ—Ç–æ –Ω–∞ –∫–æ–¥–æ—Ç.

---

## üìÅ –°–ª–æ–µ–≤–∏ –≤–æ –ü—Ä–æ–µ–∫—Ç–æ—Ç

### 1. `Quiz.Domain` ‚Äì –î–æ–º–µ–Ω –°–ª–æ—ò

–û–≤–æ—ò —Å–ª–æ—ò –≥–∏ —Å–æ–¥—Ä–∂–∏ —Å–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ –±–∏–∑–Ω–∏—Å –ª–æ–≥–∏–∫–∞—Ç–∞.

#### üîπ Domain Models  
–°–∏—Ç–µ –º–æ–¥–µ–ª–∏ —à—Ç–æ —Å–µ –∫–æ—Ä–∏—Å—Ç–∞—Ç –≤–æ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞—Ç–∞, –∫–∞–∫–æ —à—Ç–æ —Å–µ `Quiz`, `Question`, `Answer`.

#### üîπ Identity  
–ó–∞ –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—ò–∞ –∏ –º–µ–Ω–∞—ü–∏—Ä–∞—ö–µ –Ω–∞ –∫–æ—Ä–∏—Å–Ω–∏—Ü–∏ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏ `Microsoft.AspNetCore.Identity`.

#### üîπ ViewModels  
–û–≤–∏–µ –º–æ–¥–µ–ª–∏ –Ω–µ —Å–µ –∑–∞—á—É–≤—É–≤–∞–∞—Ç –≤–æ –±–∞–∑–∞—Ç–∞. –°–ª—É–∂–∞—Ç –∑–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä –Ω–∞ –ø–æ–¥–∞—Ç–æ—Ü–∏ –ø–æ–º–µ—ì—É `View`-–∏ –∏–ª–∏ –∑–∞ –ø–æ–ø–æ–ª–Ω—É–≤–∞—ö–µ —Ñ–æ—Ä–º–∏.

---

### 2. `Quiz.Repository` ‚Äì –ü—Ä–∏—Å—Ç–∞–ø –¥–æ –ü–æ–¥–∞—Ç–æ—Ü–∏

–û–≤–æ—ò —Å–ª–æ—ò —ò–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ –ª–æ–≥–∏–∫–∞—Ç–∞ –∑–∞ –ø—Ä–∏—Å—Ç–∞–ø –¥–æ –±–∞–∑–∞—Ç–∞ –Ω–∞ –ø–æ–¥–∞—Ç–æ—Ü–∏ –∫–æ—Ä–∏—Å—Ç–µ—ò—ú–∏ **Entity Framework Core**.

#### üî∏ Data  
–°–æ–¥—Ä–∂–∏ `ApplicationDbContext` –∫–∞–¥–µ —Å–µ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–∏ –º–æ–¥–µ–ª–∏—Ç–µ, —Ä–µ–ª–∞—Ü–∏–∏—Ç–µ –∏ –ø—Ä–∞–≤–∏–ª–∞—Ç–∞ –∑–∞ –±—Ä–∏—à–µ—ö–µ. –ò—Å—Ç–æ —Ç–∞–∫–∞ –≤–∫–ª—É—á—É–≤–∞ –∏–Ω–∏—Ü–∏—ò–∞–ª–Ω–∏ –ø–æ–¥–∞—Ç–æ—Ü–∏ –∑–∞ —Ç–µ—Å—Ç–∏—Ä–∞—ö–µ (seed data), –∫–æ–∏ –º–æ–∂–∞—Ç –¥–∞ —Å–µ –∏–∑–±—Ä–∏—à–∞—Ç –ø—Ä–µ–¥ –ø—Ä–æ–¥—É–∫—Ü–∏—ò–∞.

#### üî∏ Implementation  
–°–æ–¥—Ä–∂–∏ –∫–ª–∞—Å–∏ —à—Ç–æ –∫–æ–º—É–Ω–∏—Ü–∏—Ä–∞–∞—Ç —Å–æ –±–∞–∑–∞—Ç–∞:

- `Repository` ‚Äì –≥–∏ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏—Ç–µ –∑–∞ —Å–∏—Ç–µ –º–æ–¥–µ–ª–∏  
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—É–º–∏ ‚Äì –∑–∞ –º–æ–¥–µ–ª–∏ —Å–æ –ø–æ—Å–µ–±–Ω–∞ –ª–æ–≥–∏–∫–∞  
- `UnitOfWork` ‚Äì –≥–∏ —Å–æ–±–∏—Ä–∞ —Å–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—É–º–∏ –≤–æ –µ–¥–Ω–∞ –∫–ª–∞—Å–∞ –∏ —Å–µ –∏–Ω—ò–µ–∫—Ç–∏—Ä–∞ –≤–æ `Program.cs`.  
  –°–µ–∫–æ—ò –ø—Ä–∏—Å—Ç–∞–ø –æ–¥ `Quiz.Web` —Å–µ –ø—Ä–∞–≤–∏ –ø—Ä–µ–∫—É `UnitOfWork`.

#### üî∏ Interface  
–î–µ—Ñ–∏–Ω–∏—Ü–∏–∏ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ—ò—Å–∏ –∑–∞ —Å–∏—Ç–µ –º–æ–¥–µ–ª–∏ ‚Äì –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∞ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—É–º–∏—Ç–µ –∏ –æ–ª–µ—Å–Ω—É–≤–∞—ö–µ –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–∞—ö–µ.

---

### 3. `Quiz.Utility` ‚Äì –ü–æ–º–æ—à–Ω–∏ –ö–ª–∞—Å–∏

#### üìß `SmtpOptions`  
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—Å–∫–∞ –∫–ª–∞—Å–∞ –∑–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞ –∏—Å–ø—Ä–∞—ú–∞—ö–µ –µ-–ø–æ—à—Ç–∞ –ø—Ä–µ–∫—É SMTP.

#### ‚úâÔ∏è `EmailSender`  
–õ–æ–≥–∏–∫–∞ –∑–∞ –∏—Å–ø—Ä–∞—ú–∞—ö–µ –µ-–ø–æ—à—Ç–∞.

#### üîê `SD` (–°—Ç–∞—Ç–∏—á–∫–∏ –¥–µ—Ñ–∏–Ω–∏—Ü–∏–∏)  
–î–µ—Ñ–∏–Ω–∏—Ä–∞ —É–ª–æ–≥–∏ –∑–∞ –∫–æ—Ä–∏—Å–Ω–∏—Ü–∏—Ç–µ. –í–æ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞—Ç–∞ –ø–æ—Å—Ç–æ—ò–∞—Ç –¥–≤–µ —É–ª–æ–≥–∏: `Admin` –∏ `User`.

---

### 4. `Quiz.Web` ‚Äì –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—Å–∫–∏ –°–ª–æ—ò

ASP.NET Core MVC –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ —à—Ç–æ —Å–æ–¥—Ä–∂–∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏, `Views`, –∏ —Å—Ç–∞—Ç–∏—á–∫–∏ —Ñ–∞—ò–ª–æ–≤–∏.

#### üìÇ wwwroot/  

- –°–æ–¥—Ä–∂–∏ `images/`, `css/`, `js/`  
- –í–æ `Upload/` —Å–µ —á—É–≤–∞–∞—Ç `.xlsx` —Ñ–∞—ò–ª–æ–≤–∏ —Å–æ –ø—Ä–∞—à–∞—ö–∞ –∏ –æ–¥–≥–æ–≤–æ—Ä–∏

#### üóÇÔ∏è Areas (–û–±–ª–∞—Å—Ç–∏)

##### üî∏ Admin  
–°–∞–º–æ –∑–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∏. –û–≤–æ–∑–º–æ–∂—É–≤–∞:  
- –ö—Ä–µ–∏—Ä–∞—ö–µ, –∞–∂—É—Ä–∏—Ä–∞—ö–µ, –±—Ä–∏—à–µ—ö–µ –∫–≤–∏–∑–æ–≤–∏  
- –ü—Ä–∏–∫–∞—á—É–≤–∞—ö–µ Excel —Ñ–∞—ò–ª–æ–≤–∏  
- –£–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ –∫–æ—Ä–∏—Å–Ω–∏—Ü–∏

##### üîπ User  
- –ü—Ä–µ–≥–ª–µ–¥ –∏ —Ä–µ—à–∞–≤–∞—ö–µ –∫–≤–∏–∑–æ–≤–∏  
- –ü—Ä–∏—Å—Ç–∞–ø –¥–æ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏

#### üìå –õ–æ–≥–∏–∫–∞ –≤–æ –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏

–í–æ `QuizController` —Å–µ –Ω–∞–æ—ì–∞ –ª–æ–≥–∏–∫–∞—Ç–∞ –∑–∞ —á–∏—Ç–∞—ö–µ Excel —Ñ–∞—ò–ª–æ–≤–∏ –ø—Ä–µ–∫—É `ExcelFileReader`. –ü–æ–¥–∞—Ç–æ—Ü–∏—Ç–µ —Å–µ –≤–Ω–µ—Å—É–≤–∞–∞—Ç –≤–æ –±–∞–∑–∞—Ç–∞.

---

## üìÑ –§–æ—Ä–º–∞—Ç –∑–∞ Excel –§–∞—ò–ª

```plaintext
–ü—Ä–∞—à–∞—ö–µ    –û–¥–≥–æ–≤–æ—Ä1  –û–¥–≥–æ–≤–æ—Ä2  –û–¥–≥–æ–≤–æ—Ä3  –û–¥–≥–æ–≤–æ—Ä4  –¢–æ—á–µ–Ω
–ü—Ä–∞—à–∞—ö–µ1   –ê         –ë         –¶         –î         –ê
–ü—Ä–∞—à–∞—ö–µ2   –ê         –ë         –¶         –î         –ë
–ü—Ä–∞—à–∞—ö–µ3   –ê         –ë         –¶         –î         –î
–ü—Ä–∞—à–∞—ö–µ4   –ê         –ë         –¶         –î         –¶
–ü—Ä–∞—à–∞—ö–µ5   –ê         –ë         –¶         –î         –ê
```

### ‚úÖ –ü—Ä–∞–≤–∏–ª–∞:

- –ü—Ä–≤–∏–æ—Ç —Ä–µ–¥ –µ –∑–∞–≥–ª–∞–≤–∏–µ –∏ –Ω–µ —Å–µ —á–∏—Ç–∞  
- –ú–∞–∫—Å–∏–º—É–º 4 –æ–¥–≥–æ–≤–æ—Ä–∏ –ø–æ –ø—Ä–∞—à–∞—ö–µ  
- –ü–æ—Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–ª–æ–Ω–∞ –º–æ—Ä–∞ –¥–∞ —Å–æ–¥—Ä–∂–∏ —Ç–æ—á–µ–Ω –æ–¥–≥–æ–≤–æ—Ä  
- –í—Ä–µ–¥–Ω–æ—Å—Ç–∞ –Ω–∞ —Ç–æ—á–Ω–∏–æ—Ç –æ–¥–≥–æ–≤–æ—Ä –º–æ—Ä–∞ —Ü–µ–ª–æ—Å–Ω–æ –¥–∞ —Å–µ —Å–æ–≤–ø–∞—ì–∞ —Å–æ –µ–¥–µ–Ω –æ–¥ –¥–∞–¥–µ–Ω–∏—Ç–µ

> ‚ö†Ô∏è –ê–∫–æ –∏–º–∞ –ø–æ–≤–µ—ú–µ –æ–¥ 4 –æ–¥–≥–æ–≤–æ—Ä–∏, —Ç–∏–µ —ú–µ –±–∏–¥–∞—Ç –∏–≥–Ω–æ—Ä–∏—Ä–∞–Ω–∏, –∞ —Ç–æ—á–Ω–∏–æ—Ç –æ–¥–≥–æ–≤–æ—Ä –Ω–µ–º–∞ –¥–∞ —Å–µ –∑–∞—á—É–≤–∞

---

## üìß –ò—Å–ø—Ä–∞—ú–∞—ö–µ –ï-–ø–æ—à—Ç–∞

–ò—Å–ø—Ä–∞—ú–∞—ö–µ—Ç–æ –µ-–ø–æ—à—Ç–∞ –µ –æ–≤–æ–∑–º–æ–∂–µ–Ω–æ –ø—Ä–µ–∫—É Gmail SMTP.

- üìÅ `appsettings.json`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—ò–∞ –Ω–∞ SMTP –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏  
- üîí –ë–µ–∑–±–µ–¥–Ω–æ—Å—Ç: –ö–æ—Ä–∏—Å—Ç–∏ –ª–æ–∫–∞–ª–Ω–æ –∑–∞—á—É–≤–∞–Ω–∏ –ø–æ–¥–∞—Ç–æ—Ü–∏ (Secrets) –∏–ª–∏ –æ–∫–æ–ª–∏–Ω—Å–∫–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏  
- ‚ö†Ô∏è –ö–æ—Ä–∏—Å—Ç–µ–Ω–∞ –µ –ª–∏—á–Ω–∞ Gmail –∞–¥—Ä–µ—Å–∞ ‚Äì –∑–∞–º–µ–Ω–µ—Ç–µ —ò–∞ —Å–æ –≤–∞—à–∞. –ú–æ—Ä–∞ –¥–∞ –∏–º–∞ —Å–µ—Ç–∏—Ä–∞–Ω–æ –º–∞–∏–ª –±–µ–∑ —Ç–æ–∞ –Ω–µ–º–∞ –¥–∞ –º–æ–∂–µ –¥–∞ —Å–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞ –∫–æ—Ä–∏—Å–Ω–∏–∫.

```json
"SmtpSettings": {
  "Host": "smtp.gmail.com",
  "Port": 587,
  "EnableSsl": true,
  "User": "vasemail@gmail.com",
  "Password": "vasalozinka"
}
```

---

## üîê –ù–∞–¥–≤–æ—Ä–µ—à–Ω–∏ –ù–∞—ò–∞–≤—É–≤–∞—ö–∞

### üîë Google Login  
- –í–µ—ú–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–æ  
- –°–∞–º–æ –∑–∞–º–µ–Ω–µ—Ç–µ –≥–∏ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏—Ç–µ:

```json
"ClientId": "your-google-client-id",
"ClientSecret": "your-google-client-secret"
```

### üìò Facebook Login  
- –ò—Å—Ç–æ —Ç–∞–∫–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–æ  
- –ó–∞–º–µ–Ω–µ—Ç–µ —Å–æ:

```json
"AppId": "your-facebook-app-id",
"AppSecret": "your-facebook-app-secret"
```

> ‚ö†Ô∏è –õ–æ–∫–∞–ª–Ω–∏—Ç–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ –Ω–µ —Å–µ –∑–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—ò–∞ ‚Äì –∑–∞–º–µ–Ω–µ—Ç–µ –≥–∏ —Å–æ —Å–≤–æ–∏
